# set tmux prefix {
  unbind C-b
  set -g prefix C-g
  bind C-g send-prefix
# }

# set window titles {
  set-option -g set-titles on
  set-option -g set-titles-string "#{session_name} - Tmux"
# }

# set window and pane index start {
  set -g base-index 1
  setw -g pane-base-index 1
# }

# re-number windows when one is closed {
  set -g renumber-windows on
# }

# status bar related stuff {
  set -g status-interval 30
  set -g status-justify left
  set -g status-bg colour235
  set -g status-fg white
  setw -g window-status-current-style fg=black,bg=white
  set -g status-left-length 40
  set -g status-left '#[fg=green]#S#[fg=blue] #I:#P#[default]'
  set -g status-right '#[fg=green]#[default]'
# }

# use 256 term for pretty colors {
  set -g default-terminal "screen-256color"
# }

# highlight window when it has new activity {
  setw -g monitor-activity on
  set -g visual-activity on
# }

# increase scroll-back history {
  set -g history-limit 5000
# }

# decrease command delay (increases vim responsiveness) {
  set -sg escape-time 1
# }

# increase repeat time for repeatable commands {
  set -g repeat-time 1000
# }

# unbind arrow keys {
  # This prevents cases where you switch to a different pane,
  # then use the arrow key to go through command history,
  # and accidentally switch back to the previous pane
  unbind Up
  unbind Down
  unbind Left
  unbind Right
# }

# force a reload of the config file {
  unbind R
  bind R source-file ~/.tmux.conf \; display "Reloaded!"
# }

# {
unbind C-o
# }

# various mappings {
  #| splits
  bind | split-window -h -c '#{pane_current_path}'
  bind _ split-window -v -c '#{pane_current_path}'
  #| basic ctrlp like feature
  #bind-key C-t choose-tree -Ns
  # ctrlp like feature to switch sessions *[1]
  bind C-p split-window -v "tmux list-sessions | sed -E 's/:.*$//' | grep -v \"^$(tmux display-message -p '#S')\$\" | fzf --reverse | xargs tmux switch-client -t"
  # kill session
  #bind-key K run-shell 'tmux switch-client -n \; kill-session -t "$(tmux display-message -p "#S")" || tmux kill-session'
# }

# show/hide panes {
bind-key C-o split-window -h "tmux list-windows -t KB -F \"#{pane_title}\" | fzf --reverse | awk '{print $1}' | xargs tmux join-pane -s"
bind-key H run-shell "tmux display-message -p -F \"#{pane_title}\" | awk '{print $2}' | xargs tmux break-pane -d -t KB -n"
# }

# References
# 1. =  {
#   Below command is required for ctrlp mapping above.
#   https://github.com/junegunn/fzf#using-homebrew-or-linuxbrew
# }
